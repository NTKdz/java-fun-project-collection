<html lang="">
  <head>
    <title>fdf</title>
    <style>
      .list-item {
        margin-bottom: 10px;
        border: 1px solid #ccc;
        border-radius: 8px;
        padding: 5px;
      }
      .icon-container {
        display: inline-block;
        width: 32px;
        height: 32px;
      }
      img {
        width: 100%;
        height: 100%;
      }

      .upper-container,
      .lower-container {
        display: flex;
        align-items: center;
        gap: 10px;
        margin-bottom: 5px;
      }

      .lower-container {
        font-size: x-large;
        font-weight: 500;
      }
      .list {
        display: flex;
        flex-wrap: wrap;
        justify-content: space-between;
      }
    </style>
  </head>
  <body>
    <div>
      <div class="head">
        <span id="current_date"></span>
        <span id="current_location"></span>
      </div>
      <div class="detail">
        <div class="big">
          <span id="current_icon"></span>
          <span id="current_temperature"></span>
        </div>
        <div class="list" id="detailed-list"></div>
      </div>
    </div>
    <script>
      const list = document.getElementById("detailed-list");

      fetch("http://localhost:8080/api/data", {
        method: "GET",
      })
        .then((response) => response.json())
        .then((data) => {
          console.log(data);
          data.forEach((item) => {
            const listItem = document.createElement("div");
            listItem.className = "list-item";

            const tempHi = document.createElement("span");
            const tempLow = document.createElement("span");
            const dayOfTheWeek = document.createElement("span");
            const icon = document.createElement("img");
            const iconContainer = document.createElement("span");
            const weatherStatus = document.createElement("span");
            const humidity = document.createElement("span");
            const upperContainer = document.createElement("div");
            const lowerContainer = document.createElement("div");
            upperContainer.className = "upper-container";
            lowerContainer.className = "lower-container";
            tempHi.textContent = `High: ${item.tempHi}`;
            tempLow.textContent = `Low: ${item.tempLo}`;
            dayOfTheWeek.textContent = `${item.dayOfTheWeek}`;
            weatherStatus.textContent = `${item.weatherStatus}`;
            icon.src = item.icon;
            iconContainer.className = "icon-container";
            humidity.textContent = `Humidity: ${item.humid}`;

            upperContainer.appendChild(dayOfTheWeek);
            upperContainer.appendChild(iconContainer);
            iconContainer.appendChild(icon);
            upperContainer.appendChild(weatherStatus);

            lowerContainer.appendChild(tempHi);
            lowerContainer.appendChild(tempLow);
            lowerContainer.appendChild(humidity);

            listItem.appendChild(upperContainer);
            listItem.appendChild(lowerContainer);

            list.appendChild(listItem);
          });
        })
        .catch((error) => {
          console.error(error);
        });
    </script>
  </body>
</html>
